<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Template for time-to-event group sequential design • gsDesign</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Template for time-to-event group sequential design">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gsDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/SpendingTime.html">Spending Time</a>
    </li>
    <li>
      <a href="../articles/gsSurvTemplate.html">Template for time-to-event group sequential design</a>
    </li>
    <li>
      <a href="../articles/gsSurvTemplateInstructions.html">Template instructions for time-to-event group sequential design</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Template for time-to-event group sequential design</h1>
                        <h4 class="author">Keaven M. Anderson</h4>
            
            <h4 class="date">2019-04-19</h4>
      
      
      <div class="hidden name"><code>gsSurvTemplate.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This vignette provides a template for time-to-event sample size calculations for fixed designs using  and group sequential designs using . Edit this template so that you can reuse it on a regular basis for sample size calculations for time-to-event study planning. The template only uses the simplest options with a single stratum and exponential failure and dropout rates. The template can be modified to accomodate multiple strata and/or piecewise exponential failure and dropout rates; this was not chosen here since the simplest options are a) often used and b) simplest to learn and apply for beginners. Note that we produce tabular, textual and graphical output; examining the source file to see how this is done will enable you to easily customize to fit your purposes. You will need the knitr R package, which I find simpler to use than Sweave (although you could make minor edits and use Sweave). I have found using knitr and the RStudio development environment to be a good combination. Within this template, we suppress printing of all of the code used to generate results. The file <a href="gsSurvTemplateInstructions.html">gsSurvTemplateInstructions</a> is an alternate version of this document that shows code associated with this template.</p>
<p>We apply the <span class="citation">Lachin and Foulkes (1986)</span> sample size method and extend it to group sequential design. This method fixes the duration of a study and varies enrollment rates to power a trial. Alternate text when enrollment rate is fixed and enrollment duration is allowed to vary: We use the <span class="citation">Lachin and Foulkes (1986)</span> basic power equation to compute sample size along the lines of <span class="citation">Kyungmann and Tsiatis (1990)</span> where enrollment rates are fixed and enrollment duration is allowed to vary to enroll a sufficient sample size to power a study. The sample size method assumes proportional hazards between treatment groups. Accrual of events of events over time is approximated assuming failure rates are exponential.</p>
<div id="fixed-design-sample-size" class="section level2">
<h2 class="hasAnchor">
<a href="#fixed-design-sample-size" class="anchor"></a>Fixed design sample size</h2>
<p><strong>This section can be deleted if you are only interested in group sequential design.</strong></p>
<p>The median time-to-event is assumed to be 12 months in the control group.</p>
<p>The trial is designed to demonstrate superiority of experimental treatment over control with an assumed hazard ratio of 0.75 with 80% power and a one-sided Type I error rate of 2.5. The total sample size is 580 and a total of 379 endpoints is required for analysis. Planned recruitment duration is 24 months and the minimum follow-up planned is 12 months. Thus, the total expected study duration is 36 months. Enrollment is assumed to be piecewise constant at rates of 6.9 for months 0 - 1, 10.4 for months 1 - 3, 17.3 for months 3 - 6, 27.7 for months 6 - 24. The assumed dropout rate is 0.1% per month.</p>
</div>
</div>
<div id="group-sequential-design" class="section level1">
<h1 class="hasAnchor">
<a href="#group-sequential-design" class="anchor"></a>Group sequential design</h1>
<p>For a comparative trial we consider a 2-arm group sequential design with overall survival as the primary endpoint as shown in Table  (a second version of the table is in . Timing, number of events, sample size, boundaries (Z-values, nominal p-values, approximate hazard ratios) are shown as well as the probability of crossing study boundaries under the null and alternate hypotheses. Bounds are determined by Hwang-Shih-DeCani spending functions with <span class="math inline">\(\gamma=-10\)</span> (<span class="math inline">\(\alpha\)</span>-spending) and <span class="math inline">\(\gamma=2\)</span> (<span class="math inline">\(\beta\)</span>-spending). The median time-to-event is assumed to be 12 months in the control group. The trial is designed to demonstrate superiority of experimental treatment over control with an assumed hazard ratio of 0.75. The total sample size is 701 and a total of 459 endpoints is required for the final analysis. Planned recruitment duration is 24 months and the minimum follow-up planned is 12 months. Thus, the total expected study duration is 36 months. Enrollment is assumed to be piecewise constant at rates of 8.4 for months 0 - 1, 12.6 for months 1 - 3, 21 for months 3 - 6, 33.6 for months 6 - 24. The assumed dropout rate is 0.1% per month. There is a single interim analysis planned after 184 events have accrued which is expected after approximately 19.9 months.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/print">print</a></span>(<span class="kw"><a href="../reference/xtable.html">xtable</a></span>(x,<span class="dt">footnote=</span>footnote,<span class="dt">caption=</span>caption,</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">             <span class="dt">label=</span><span class="st">"tab1"</span>), </a>
<a class="sourceLine" id="cb1-3" data-line-number="3">      <span class="dt">include.rownames=</span>F, </a>
<a class="sourceLine" id="cb1-4" data-line-number="4">      <span class="dt">sanitize.text.function=</span><span class="cf">function</span>(x) x)</a></code></pre></div>
% latex table generated in R 3.5.3 by xtable 1.8-3 package % Fri Apr 19 19:40:34 2019

<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/gsBoundSummary.html">xprint</a></span>(<span class="kw"><a href="../reference/xtable.html">xtable</a></span>(<span class="kw"><a href="../reference/gsBoundSummary.html">gsBoundSummary</a></span>(x, <span class="dt">logdelta=</span><span class="ot">TRUE</span>), <span class="dt">digits=</span><span class="dv">4</span>, <span class="dt">label=</span><span class="st">"tab2"</span>, <span class="dt">caption=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(x)))</a></code></pre></div>
% latex table generated in R 3.5.3 by xtable 1.8-3 package % Fri Apr 19 19:40:34 2019

<p>Following are plots of the Z-values (Figure ) and approximate hazard ratios (Figure ) at the design bounds.</p>
<div class="figure">
<img src="gsSurvTemplate_files/figure-html/p1-1.png" alt="Z-value bound plot" width="700"><p class="caption">
Z-value bound plot
</p>
</div>
<div class="figure">
<img src="gsSurvTemplate_files/figure-html/p2-1.png" alt="Hazard ratio bound plot" width="700"><p class="caption">
Hazard ratio bound plot
</p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-KimTsiatis">
<p>Kyungmann, Kim, and Anastasios Tsiatis. 1990. “Study Duration for Clinical Trials with Survival Response and Early Stopping Rule.” <em>Kim and Tsiatis (1990)</em> 46 (March). Biometrics: 81–92. <a href="https://www.ncbi.nlm.nih.gov/pubmed/2350572" class="uri">https://www.ncbi.nlm.nih.gov/pubmed/2350572</a>.</p>
</div>
<div id="ref-LachinFoulkes">
<p>Lachin, John, and Mary Foulkes. 1986. “Evaluation of Sample Size and Power for Analyses of Survival with Allowance for Nonuniform Patient Entry, Losses to Follow-up Noncompliance, and Stratification.” <em>Lachin and Foulkes(1986)</em> 42 (September). Biometrics: 507–19. <a href="https://doi.org/10.2307/2531201" class="uri">https://doi.org/10.2307/2531201</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#fixed-design-sample-size">Fixed design sample size</a></li>
      </ul>
</li>
      <li><a href="#group-sequential-design">Group sequential design</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
